<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Be My Valentine üíñ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #ff758c, #ff7eb3);
    height: 100vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 20px;
  }

  h1 {
    color: #8b0000;
    font-size: 2.5rem;
    margin-bottom: 10px;
  }

  p {
    font-size: 1.3rem;
    color: #600000;
    margin-bottom: 25px;
  }

  .buttons {
    position: relative;
    height: 80px;
    width: 100%;
    max-width: 300px;
  }

  button {
    font-size: 20px;
    padding: 12px 28px;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: left 0.2s ease, top 0.2s ease;
  }

  #yes {
    background: red;
    color: white;
    position: relative;
    z-index: 1;
  }

  #no {
    background: gray;
    color: white;
    position: absolute;
    left: 160px;
    top: 0;
  }

  #puppy {
    display: none;
    width: 250px;
    border-radius: 15px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.3);
    opacity: 0;
    transition: opacity 0.8s ease;
    z-index: 2;
  }

  #puppy.show { opacity: 1; }

  #thankyou {
    display: none;
    font-size: 1.5rem;
    color: #8b0000;
    margin-top: 15px;
    opacity: 0;
    transition: opacity 0.8s ease;
  }

  #thankyou.show { opacity: 1; }

  #center-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  canvas {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 1;
  }

  @media (max-width: 600px) {
    h1 { font-size: 2rem; }
    p { font-size: 1.1rem; }
    #puppy { width: 180px; }
    #thankyou { font-size: 1.2rem; }
  }
</style>
</head>
<body>

<h1>üíå Will you be my Valentine? üíå</h1>
<p>Hi <strong>Ana</strong>, please respond ‚ù§Ô∏è</p>

<div class="buttons">
  <button id="yes" aria-label="Say Yes">Yes</button>
  <button id="no" aria-label="Say No">No</button>
</div>

<div id="center-container">
  <img id="puppy" src="image.png" alt="Cute Smiling Puppy">
  <p id="thankyou">Thank you for your response, <strong>Ana</strong>! See you on Feb 14? hihi &lt;3</p>
</div>

<canvas id="fireworks"></canvas>

<script>
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const puppy = document.getElementById("puppy");
const thankyou = document.getElementById("thankyou");
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
const title = document.querySelector("h1");
const greeting = document.querySelector("body > p");

// ---------- Resize canvas ----------
function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

// ---------- Heart fireworks ----------
let hearts = [];
function spawnHearts(x, y) {
  for (let i = 0; i < 5; i++) {
    hearts.push({
      x, y,
      angle: Math.random() * Math.PI * 2,
      speed: Math.random() * 2 + 1,
      life: 200,
      color: `hsl(${Math.random()*360},100%,65%)`
    });
  }
}

function drawHeart(x, y, color, alpha=1) {
  ctx.fillStyle = color;
  ctx.globalAlpha = alpha;
  ctx.beginPath();
  ctx.moveTo(x, y);
  ctx.bezierCurveTo(x-10,y-10,x-25,y+10,x,y+25);
  ctx.bezierCurveTo(x+25,y+10,x+10,y-10,x,y);
  ctx.fill();
  ctx.globalAlpha = 1;
}

function animate() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  hearts.forEach(h=>{
    h.x += Math.cos(h.angle)*h.speed;
    h.y += Math.sin(h.angle)*h.speed;
    h.life--;
    let alpha = Math.max(h.life/200, 0);
    drawHeart(h.x,h.y,h.color,alpha);
  });
  hearts = hearts.filter(h => h.life > 0);
  requestAnimationFrame(animate);
}
animate();

// ---------- Continuous heart spawner ----------
setInterval(()=>{
  const x = Math.random()*canvas.width;
  const y = Math.random()*canvas.height/2;
  spawnHearts(x, y);
}, 500);

// ---------- NO button ----------
function moveNoButton() {
  const btnWidth = noBtn.offsetWidth;
  const btnHeight = noBtn.offsetHeight;
  const parent = noBtn.parentElement;
  const maxX = parent.offsetWidth - btnWidth;
  const maxY = parent.offsetHeight - btnHeight;
  const x = Math.random() * maxX;
  const y = Math.random() * maxY;
  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";
  if (navigator.vibrate) navigator.vibrate([80,40,80]);
}
noBtn.addEventListener("mouseover", moveNoButton);
noBtn.addEventListener("touchstart", e=>{ e.preventDefault(); moveNoButton(); });

// ---------- YES button ----------
yesBtn.addEventListener("click", ()=>{
  title.style.display = "none";
  greeting.style.display = "none";
  yesBtn.style.display = "none";

  puppy.style.display = "block";
  thankyou.style.display = "block";

  setTimeout(()=>puppy.classList.add("show"), 50);
  setTimeout(()=>thankyou.classList.add("show"), 300);

  for(let i=0;i<10;i++){
    spawnHearts(Math.random()*canvas.width, Math.random()*canvas.height/2);
  }

  // ---------- NO button ----------
function moveNoButton() {
  const btnWidth = noBtn.offsetWidth;
  const btnHeight = noBtn.offsetHeight;
  const parent = noBtn.parentElement;
  const maxX = parent.offsetWidth - btnWidth;
  const maxY = parent.offsetHeight - btnHeight;
  const x = Math.random() * maxX;
  const y = Math.random() * maxY;
  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";
  if (navigator.vibrate) navigator.vibrate([80,40,80]);
}

noBtn.addEventListener("mouseover", moveNoButton);
noBtn.addEventListener("touchstart", e => { e.preventDefault(); moveNoButton(); });
noBtn.addEventListener("click", moveNoButton); // üëà NEW: moves on click too
});
</script>

</body>
</html>